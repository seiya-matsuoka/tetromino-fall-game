<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Tetromino Fall Game</title>
  </head>

  <body class="bg-bg text-fg min-h-dvh">
    <div id="app" class="mx-auto w-full max-w-[440px] p-3">
      <!-- トップバー -->
      <header class="flex items-center justify-between">
        <div class="leading-tight">
          <div class="text-muted text-xs">HIGH SCORE</div>
          <div id="highScore" class="font-semibold">0</div>
        </div>
        <div class="text-center">
          <div class="text-muted text-xs tracking-wide uppercase">score</div>
          <div id="score" class="text-2xl font-bold">0</div>
        </div>
        <button
          id="pauseBtn"
          class="btn-control bg-panel border-border rounded-xl border px-3 py-2"
        >
          ⏸
        </button>
      </header>

      <!-- メインエリア -->
      <main class="mt-3 grid grid-cols-[64px_minmax(0,1fr)_88px] gap-2">
        <!-- 左: Level -->
        <aside class="bg-panel border-border flex flex-col items-center rounded-xl border p-2">
          <div class="text-muted text-xs">Level</div>
          <div id="level" class="text-xl font-semibold">1</div>

          <!-- Level stack -->
          <div id="levelStack" class="level-stack" role="img" aria-label="Current level (1–20)">
            <div id="levelStackFill" class="level-stack__fill"></div>
          </div>

          <!-- Level gauge -->
          <div id="levelGaugeLabel" class="level-gauge__label" aria-hidden="true">0/10</div>
          <div
            id="levelGauge"
            class="level-gauge"
            role="progressbar"
            aria-valuemin="0"
            aria-valuemax="100"
            aria-valuenow="0"
          >
            <div id="levelGaugeFill" class="level-gauge__fill"></div>
          </div>
        </aside>

        <!-- 中央: ボード -->
        <section
          id="boardWrap"
          class="bg-surface border-border relative flex aspect-1/2 items-stretch justify-stretch overflow-hidden rounded-xl border"
        >
          <canvas id="board" class="block h-full w-full"></canvas>
        </section>

        <!-- 右: NEXT -->
        <aside class="bg-panel border-border rounded-xl border p-2">
          <div class="text-muted text-xs">NEXT</div>
          <div class="mt-2 grid gap-2">
            <canvas
              id="next0"
              class="bg-surface border-border h-16 w-full rounded-lg border"
            ></canvas>
            <canvas
              id="next1"
              class="bg-surface border-border h-16 w-full rounded-lg border"
            ></canvas>
            <canvas
              id="next2"
              class="bg-surface border-border h-16 w-full rounded-lg border"
            ></canvas>
          </div>
        </aside>
      </main>

      <!-- 操作ボタン -->
      <footer class="mt-3 flex justify-between">
        <div class="flex flex-col gap-2">
          <button
            id="btn-rot"
            class="btn-control bg-panel border-border h-14 w-14 rounded-2xl border"
          >
            ⟳
          </button>
          <button
            id="btn-left"
            class="btn-control bg-panel border-border h-14 w-14 rounded-2xl border"
          >
            ←
          </button>
        </div>
        <div class="flex flex-col gap-2">
          <button
            id="btn-down"
            class="btn-control bg-panel border-border h-14 w-14 rounded-2xl border"
          >
            ↓
          </button>
          <button
            id="btn-right"
            class="btn-control bg-panel border-border h-14 w-14 rounded-2xl border"
          >
            →
          </button>
        </div>
      </footer>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
